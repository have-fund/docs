# Децентрализованные сети

В предыдущих статьях я не раз упоминал, что работа с Фондом проходит без посредников, **децентрализовано**.
Это может показаться невероятным: разве может целая система с деньгами на счетах работать без какого-либо
привилегированного центра?

Я опустил очень много сложных подробностей в этой статье. И всё же это далеко не лёгкое чтиво.
Уделите время в спокойной обстановке, прочитайте внимательно. Вам откроется понимание устройства технологии,
перевернувшей сферу финансов.

## Технологии древних

Слово «криптовалюта» образовано от слов «криптография» и «валюта». Обе эти концепции придуманы Человеком
в незапамятные времена. Ошибочно полагать, что всё началось с [Биткоина](https://ru.wikipedia.org/wiki/Биткоин).

Можно было бы бесконечно разбирать изыскания в области криптографии, которые последовательно привели к появлению
децентрализованных валютных сетей. В таком случае получилась бы не статья, а книга гигантского объёма.

В статье же мы разберём буквально пару самых важных открытий, позволяющих в хаосе подтвердить владение своими активами.

## Хеширование

Фундаментом современной криптографии является [Хеш-функция](https://ru.wikipedia.org/wiki/Хеш-функция).
История развития этой технологии начинается ещё в Средние века. Современный же стандарт, который прямо сейчас
используется в Биткоине, был опубликован в 2002 году.

Суть операции хеширования проста: функция принимает на вход абсолютно любую информацию и выводит из неё число
ограниченного размера. Для функции [SHA-256](https://21ideas.org/mining-walkthrough) (которая используется в Биткоине) —
это число от 0 до

> 115,792,089,237,316,195,423,570,985,008,687,907,853,269,984,665,640,564,039,457,584,007,913,129,639,935

Из одной и той же информации, переданной функции, всегда выводится одинаковое число. Это число называется «хеш».
Восстановить исходную информацию из её хеша невозможно. Вот и вся суть хеширования.

## Распределённая база данных

Один из способов применения хеширования — реализация «Цепочки блоков»
([Блокчейн](https://ru.wikipedia.org/wiki/Блокчейн)). Это база данных, в которой каждое обновление информации
добавляется в виде блока данных, и каждый блок содержит в себе хеш предыдущего блока.

В блокчейнах невозможно просто взять и изменить блок, который был добавлен достаточно давно. Ведь после него уже были
добавлены другие блоки. Если удалить блок из середины, все последующие блоки станут недействительны из-за несовпадения
хеша предыдущего блока.

Как правило, блокчейны хранятся на большом количестве независимых компьютеров — узлах сети. Каждый узел самостоятельно
вычисляет хеш каждого блока и сверяет его с хешем следующего блока. Информация о текущем состоянии сети представлена
в виде истории всех произошедших событий. Эту историю невозможно стереть или подделать.

## Асимметричная криптография

Способы зашифровать секретное сообщение известны людям давно.
Но [изобретение](https://ru.wikipedia.org/wiki/Криптосистема_с_открытым_ключом) второй половины двадцатого века
может показаться чем-то невероятным и по сей день.

Раньше как для зашифровывания, так и для расшифровывания был необходим один и тот же ключ. Этот ключ ещё надо умудриться
передать своему адресату: перехватят ключ — прочитают переписку. Теперь же можно сгенерировать сразу два ключа вместе:
то, что зашифровано одним из ключей, может расшифровать только второй. Бесполезно пытаться расшифровать сообщение, даже
обладая тем самым ключом, которым оно было создано.

Можно создать такую пару ключей и один из них держать у себя в строгом секрете (приватный ключ). Второй из этой пары
можно опубликовать на личной странице (публичный ключ). Теперь каждый желающий способен отправить вам зашифрованное
сообщение по открытым каналам связи, не опасаясь перехвата (зашифровать публичным ключом).
Все в мире знают ваш публичный ключ, но не смогут расшифровать сообщение; ведь для этого нужен второй — приватный.

## Электронная подпись

Асимметричная криптография полезна и сама по себе, но также она произвела на свет полезнейший побочный продукт —
алгоритм [электронной подписи](https://ru.wikipedia.org/wiki/Электронная_подпись).

Берём любой документ, вычисляем из него хеш, зашифровываем хеш своим приватным ключом и прикладываем к документу.

Всё. Этот документ гарантированно исходит от владельца приватного ключа. Подпись ручкой по бумаге можно подделать,
электронную подпись — нет. Проверить её очень просто:

1. Вычисляем хеш из документа.
2. Расшифровываем подпись публичным ключом автора.
3. Если результаты этих действий совпадают — подпись верна.

Бесполезно подделывать содержание документа, ведь тогда из него получится другой хеш. Бесполезно шифровать новый хеш
каким-то своим ключом, ведь тогда публичный ключ автора не расшифрует результат. Владея своим приватным ключом
и используя алгоритм электронной подписи, мы способны убедительно заявить о своей принадлежности к информации.

## Первая криптовалюта

Биткоины хранятся в распределённом блокчейне, на десятках тысяч компьютеров по всему миру.

Адрес для баланса — это,
[по сути](https://bitcoinbriefly.com/ultimate-guide-to-bitcoin-wallets-seeds-private-keys-public-keys-and-addresses),
публичный ключ. Зная ваш адрес кто угодно может отправить вам биткоины. Но чтобы отправить биткоины куда-то с вашего
адреса, необходим приватный ключ, который никто не знает.

Любая передача биткоинов — это транзакция: структура данных, в которой сказано, с какого и на какой адрес сколько
биткоинов отправляется. Каждая транзакция должна быть подписана электронной подписью адреса отправителя,
иначе сеть её не примет.

Владение своим балансом сводится к владению своим приватным ключом. Хранить приватные ключи в сохранности и в секрете —
ответственность каждого пользователя сети Биткоин.

Биткоин был воздвигнут на прочном фундаменте: перечисленные в этой статье технологии — лишь небольшая его часть.
Будучи запущенной в далёком 2009 году, эта сеть заставила человечество переосмыслить суть финансовых систем. С тех пор
прогресс шагнул далеко вперёд, появилось огромное количество других децентрализованных сетей.
Но принцип децентрализации остался таким, каким однажды его определил Биткоин.

---

Далее мы рассмотрим следующий шаг эволюции децентрализованных сетей: Ethereum и смарт-контракты.
